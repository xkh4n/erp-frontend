@tailwind base;
@tailwind components;
@tailwind utilities;

/* Estilos para pantalla completa en móviles */
@layer base {
  html {
    /* Altura completa de la ventana del navegador */
    height: 100vh;
    height: 100dvh; /* Soporte para navegadores modernos */
    overflow-y: auto;
    
    /* Prevenir scroll elástico en iOS */
    overscroll-behavior: none;
    -webkit-overflow-scrolling: touch;
  }
  
  body {
    /* Altura completa */
    min-height: 100vh;
    min-height: 100dvh;
    
    /* Eliminar márgenes y padding por defecto */
    margin: 0;
    padding: 0;
    
    /* Prevenir scroll horizontal */
    overflow-x: hidden;
    overflow-y: auto;
    /* Ocultar la barra de direcciones en móviles */
    position: fixed;
    width: 100%;
    height: 100vh;
    height: 100dvh;
    
    /* Solo en móviles */
    @media (max-width: 768px) {
      /* Forzar altura de viewport completa */
      height: calc(100vh + env(keyboard-inset-height, 0px));
      height: calc(100dvh + env(keyboard-inset-height, 0px));
    }
  }
  
  .mobile-body {
    margin: 0;
    padding: 0;
    height: 100vh;
    height: 100dvh;
    overflow-x: hidden;
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  
  #root {
    /* Altura completa del contenedor */
    min-height: 100vh;
    min-height: 100dvh;
    width: 100%;
    overflow-y: auto;
    
    /* En móviles, usar toda la pantalla */
    @media (max-width: 768px) {
      height: 100vh;
      height: 100dvh;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
  }
}

/* Utilidades adicionales para pantalla completa */
@layer utilities {
  .fullscreen-mobile {
    @media (max-width: 768px) {
      height: 100vh;
      height: 100dvh;
      width: 100vw;
      position: fixed;
      top: 0;
      left: 0;
      overflow-y: auto;
      -webkit-overflow-scrolling: touch;
    }
  }
  
  .mobile-touch-optimized {
    -webkit-overflow-scrolling: touch;
    -webkit-user-select: none;
    user-select: none;
    -webkit-touch-callout: none;
    -webkit-tap-highlight-color: transparent;
    touch-action: manipulation;
  }
  
  .mobile-viewport-height {
    height: var(--viewport-height) !important;
    min-height: var(--viewport-height) !important;
  }
  
  .safe-area-insets {
    /* Soporte para el notch y área segura */
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
  }
  
  .hide-address-bar {
    /* Técnica para ocultar la barra de direcciones */
    @media (max-width: 768px) {
      height: calc(100vh + 60px);
      height: calc(100dvh + 60px);
      margin-top: -60px;
      padding-top: 60px;
    }
  }
  
  .standalone-mode {
    /* Estilos específicos para modo PWA standalone */
    padding-top: env(safe-area-inset-top);
  }
  
  .prevent-zoom-focused {
    font-size: 16px !important;
    transform: scale(1);
  }
}